
<div class="row">
  <div class="small-12 columns">

    <h1>Node Dependency Check</h1>
    <p>Check your project against the latest npm modules</p>
    
    <p>{{ packages.length }} updates available for {{ repo }}{{#if dev}} including dev dependencies{{/if}}</p>

    <ul>
      {{#each packages}}
        <li>
          <a href="https://www.npmjs.org/package/{{ name }}">{{ name }}</a><br>
          Installed: {{ current }} Latest: {{ latest }}
        </li>
      {{/each}}
    </ul>
    
    {{#if user}}
      {{#if packages.length}}
      <h2>Open an issue...</h2>

      <form action="/issue" method="POST">
        <input type="hidden" name="repo" value="{{repo}}">
        <div class="row inline">
          <div class="small-12 columns">
            <label for="issue-title">Title:</label>
            <input type="text" name="title" id="issue-title" value="Update Dependencies">
          </div>

          <div class="small-12 columns">
            <label for="issue-body">Body:</label>
            <textarea name="body" id="issue-body" cols="30" rows="10">
{{#each packages}}
- [{{name}}](https://www.npmjs.org/package/{{ name }})
  - Installed: {{ current }} Latest: {{ latest }}
{{/each}}

Auto-generated by [Node Dependency Check](http://ndc.petecoop.co.uk/)
            </textarea>
          </div>

          <div class="small-12 columns">
            <button type="submit" class="success">Create</button>
          </div>
        </div>
      </form>
      {{else}}
        <a href="/" class="button">Back</a>
      {{/if}}
    {{else}}
      <h2>Check again...</h2>

      <form action="/check" method="POST">
        <div class="row inline">
          <div class="small-12 columns">
            <label for="git">git repo clone URL:</label>
            <input type="text" name="git-repo" id="git" placeholder="e.g https://github.com/petecoop/npm-check-latest.git" value="{{ repo }}">
          </div>
          
          <div class="small-12 columns">
            <label for="paste">Paste your <code>package.json</code>:</label>
            <textarea name="pasted" rows="5">{{ pasted }}</textarea>
          </div>
          
          <div class="small-12 columns">
            <button type="submit" class="success">Go</button>
            <input type="checkbox" name="dev" id="dev" value="1" {{#if dev}}checked{{/if}}>
            <label for="dev">Check Dev Dependencies</label>
          </div>
        </div>
      </form>
    {{/if}}

  </div>
</div>